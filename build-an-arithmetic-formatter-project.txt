** start of main.py **


def arithmetic_arranger(problems, show_answers=False):
    # 1) Too many problems
    if len(problems) > 5:
        return 'Error: Too many problems.'

    top_line = []
    bottom_line = []
    dash_line = []
    result_line = []

    for prob in problems:
        parts = prob.split()

        # Expect exactly three tokens: operand operator operand
        if len(parts) != 3:
            # If it isn't 3 tokens, the only error the spec requires we return
            # (among the four) that will reliably trigger here is operator error,
            # but most official tests provide properly spaced input.
            # We'll still parse operator safely to comply with operator rule below.
            return "Error: Operator must be '+' or '-'."

        first, op, second = parts

        # 2) Operator check
        if op not in ('+', '-'):
            return "Error: Operator must be '+' or '-'."

        # 3) Digits only
        if not first.isdigit() or not second.isdigit():
            return 'Error: Numbers must only contain digits.'

        # 4) Max width 4
        if len(first) > 4 or len(second) > 4:
            return 'Error: Numbers cannot be more than four digits.'

        # Compute width for a single problem
        width = max(len(first), len(second)) + 2  # one for operator, one for space

        # Build the three (or four) lines for this problem
        top_line.append(first.rjust(width))
        bottom_line.append(op + second.rjust(width - 1))
        dash_line.append('-' * width)

        if show_answers:
            if op == '+':
                res = str(int(first) + int(second))
            else:
                res = str(int(first) - int(second))
            result_line.append(res.rjust(width))

    # Join each row with exactly four spaces between problems
    arranged = '    '.join(top_line) + '\n' + \
               '    '.join(bottom_line) + '\n' + \
               '    '.join(dash_line)

    if show_answers:
        arranged += '\n' + '    '.join(result_line)

    return arranged


** end of main.py **

